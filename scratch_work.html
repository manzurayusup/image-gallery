<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/6468cbf634.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Scratch Work</title>
</head>

<body>
    <div id="image_container">

        <img class="small" src="flowers.jpg" alt="Flowers" data-index="0">

        <img class="small" src="bird.jpg" alt="Bird on a Branch" data-index="1">

        <img class="small" src="winter.jpg" alt="Mountains" data-index="2">

        <img class="small" src="winter_trees.jpg" alt="Trees in Winter" data-index="3">

        <img class="small" src="ice_cream.png" alt="Eating Ice Cream in Germany" data-index="4">

        <img class="small" src="mountains.jpg" alt="Mountains over the Lake" data-index="5">

    </div>


    <script>
        let images = document.getElementsByClassName("small");
        for (let i = 0; i < images.length; i++) {
            //images[i].addEventListener("mouseover", onMouseOver);
            images[i].addEventListener("click", makeBigger);
            //images[i].addEventListener("mouseout", onMouseOut);
        }
        function makeBigger() {
            let container = document.createElement("div");  // create div to hold enlarged img
            container.className = "js-big-div";

            // clone the image:
            let imageClone = this.cloneNode(true);  
            imageClone.className = "js-big-image";
            container.appendChild(imageClone);    

            // create close button:
            let closeBtn = document.createElement("button");   
            closeBtn.innerHTML = "Close";
            closeBtn.setAttribute("class", "js-close_btn");   
            container.appendChild(closeBtn);                   

            // left arrow:
            let left = document.createElement("i");
            left.className = "fas fa-chevron-left fa-7x";
            left.id = "js-left-arrow";
            left.style.color = "gray";
            container.appendChild(left);
            // right arrow:
            let right = document.createElement("i");
            right.className = "fas fa-chevron-right fa-7x";
            right.id = "js-right-arrow";
            right.style.color = "gray";
            container.appendChild(right);
            
            document.getElementById("image_container").style.display = "none";
            document.getElementsByTagName("body")[0].appendChild(container);

            //I WONDER IF IT'S OK TO HAVE ADDEVENT LISTENER INSIDE FUNCTION:
            // add event listeners to button and arrows:
            document.getElementsByClassName("js-close_btn")[0].addEventListener("click", closeImage);
            left.addEventListener("click", previousImage);
            right.addEventListener("click", nextImage);
        }

        /* Closes enlarged image and goes back to gallery view */
        function closeImage() {
            document.getElementsByClassName("js-big-div")[0].remove();
            document.getElementById("image_container").style.display = "block";
            
        }
        /* Swaps the curernt image with the previous image */
        function previousImage() {
            let idx = parseInt(this.dataset.index);
            //let index = parseInt(this.querySelector(`[data-index="${index}"`));
            console.log(idx);
            if (index > 0) {
                let prevImg = document.querySelector(`[data-index="${idx-1}"`);   // get previous image
                document.getElementById("image_container").replaceChild(prevImg, this);
                
            } else {
                console.log("This is the first image.");
            }
        }
        /* Swaps the curernt image with the next image */
        function nextImage() {

        }   


    </script>
</body>

</html>